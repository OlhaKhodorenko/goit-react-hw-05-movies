"use strict";(self.webpackChunkreact_movies=self.webpackChunkreact_movies||[]).push([[209],{3209:function(r,e,n){n.r(e),n.d(e,{default:function(){return f}});var t=n(885),a=n(2791),c=n(6871),o=n(237);function i(){return i=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(r[t]=n[t])}return r},i.apply(this,arguments)}var u=["placeholderSrc","placeholder","placeholderColor","ignorePlaceholder","onLoad","onError","src","loading","crossOrigin","height","width"];function s(r){return"number"===typeof r?r:"string"===typeof r?parseInt(r,10):void 0}var l=(0,a.forwardRef)((function(r,e){var n=r.placeholderSrc,t=r.placeholder,c=r.placeholderColor,o=void 0===c?"gray":c,l=r.ignorePlaceholder,d=void 0!==l&&l,f=r.onLoad,p=r.onError,h=r.src,g=r.loading,v=r.crossOrigin,m=r.height,w=r.width,y=function(r,e){if(null==r)return{};var n,t,a={},c=Object.keys(r);for(t=0;t<c.length;t++)n=c[t],e.indexOf(n)>=0||(a[n]=r[n]);return a}(r,u),x=s(w),b=s(m),k=i({ref:e,width:w,height:m},y),E=function(r){var e=void 0===r?{}:r,n=e.src,t=e.srcSet,c=e.sizes,o=e.crossOrigin,i=e.ignorePlaceholder,u=(0,a.useState)("idle"),s=u[0],l=u[1],d="failed"===s,f="loading"===s,p="idle"===s,h="loaded"===s;(0,a.useEffect)((function(){if(i)return l("loaded");l(n?"loading":"idle")}),[i,n]);var g=(0,a.useRef)(),v=function(){g.current&&(g.current=null)},m=(0,a.useCallback)((function(){if(n){v();var r=new window.Image;r.src=n,o&&(r.crossOrigin=o),t&&(r.srcset=t),c&&(r.sizes=c),r.onload=function(){v(),l("loaded")},r.onerror=function(){v(),l("failed")},g.current=r}}),[n,o,t,c]);return(0,a.useLayoutEffect)((function(){if(!i)return"loading"===s&&m(),v}),[s,m,i]),{status:s,isError:d,isIdle:p,isLoading:f,isLoaded:h}}(i({},r,{ignorePlaceholder:g||d}));if(!E.isLoaded){if(n)return(0,a.createElement)("img",Object.assign({src:n},k));if(t)return t;var O=k.style,j=void 0===O?{}:O;return(0,a.createElement)("div",Object.assign({},k,{style:i({height:b+"px",width:x+"px",background:o},j)}))}return(0,a.createElement)("img",Object.assign({src:h,loading:g,crossOrigin:v,onLoad:f,onError:p},k))})),d=n(184),f=function(){var r=(0,c.UO)().movieId,e=(0,a.useState)(null),n=(0,t.Z)(e,2),i=n[0],u=n[1];return(0,a.useEffect)((function(){(0,o.xc)(r).then(u)}),[r]),i?i&&(0,d.jsx)("ul",{children:i.map((function(r){var e=r.id,n=r.name,t=r.character,a=r.profile_path;return(0,d.jsxs)("li",{children:[(0,d.jsx)(l,{src:"https://image.tmdb.org/t/p/w300/".concat(a),alt:n,width:100,height:150,placeholderColor:"pink"}),(0,d.jsx)("h2",{children:n}),(0,d.jsxs)("p",{children:["Character: ",t]})]},e)}))}):null}},237:function(r,e,n){n.d(e,{xc:function(){return h},Y5:function(){return p},Bt:function(){return g},Ph:function(){return f},Hg:function(){return d}});var t=n(5861),a=n(7757),c=n.n(a),o=n(4569),i=n.n(o),u={BASE_URL:"https://api.themoviedb.org/3",KEY:"33da1ae0687d870981cf19ad4813876b"},s=u.KEY,l=u.BASE_URL,d=function(){var r=(0,t.Z)(c().mark((function r(e){var n;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i().get("".concat(l,"/trending/movie/day?api_key=").concat(s));case 2:return n=r.sent,r.abrupt("return",n.data);case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),f=function(){var r=(0,t.Z)(c().mark((function r(e){var n,t,a=arguments;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:1,r.next=3,i().get("".concat(l,"/search/movie?api_key=").concat(s,"&language=en-US&page=").concat(n,"&query=").concat(e));case 3:return t=r.sent,r.abrupt("return",t.data.results);case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),p=function(){var r=(0,t.Z)(c().mark((function r(e){var n;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i().get("".concat(l,"/movie/").concat(e,"?api_key=").concat(s,"&language=en-US"));case 2:return n=r.sent,r.abrupt("return",n.data);case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),h=function(){var r=(0,t.Z)(c().mark((function r(e){var n;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i().get("".concat(l,"/movie/").concat(e,"/credits?api_key=").concat(s,"&language=en-US"));case 2:return n=r.sent,r.abrupt("return",n.data.cast);case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),g=function(){var r=(0,t.Z)(c().mark((function r(e){var n;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i().get("".concat(l,"/movie/").concat(e,"/reviews?api_key=").concat(s,"&language=en-US&page=1"));case 2:return n=r.sent,r.abrupt("return",n.data.results);case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}}]);
//# sourceMappingURL=209.f22963e1.chunk.js.map